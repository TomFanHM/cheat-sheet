---
import { cva, type VariantProps } from "class-variance-authority";
import { twMerge } from "tailwind-merge";

const buttonVariants = cva(
  "font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",
  {
    variants: {
      variant: {
        primary: "bg-indigo-600",
      },
      size: {
        xs: "rounded px-2 py-1 text-xs",
        sm: "rounded px-2 py-1 text-sm",
        md: "rounded-md px-2.5 py-1.5 text-sm",
        lg: "rounded-md px-3 py-2 text-sm",
        xl: "rounded-md px-3.5 py-2.5 text-sm",
      },
    },
    defaultVariants: {
      variant: "primary",
      size: "md",
    },
  }
);

interface Props
  extends astroHTML.JSX.ButtonHTMLAttributes,
    VariantProps<typeof buttonVariants> {}

const { variant, size, class: className, ...props } = Astro.props;
---

<button class={twMerge(buttonVariants({ variant, size }), className)} {...props}
></button>
