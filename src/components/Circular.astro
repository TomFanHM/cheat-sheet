---
import { cva, type VariantProps } from "class-variance-authority";
import { twMerge } from "tailwind-merge";

const buttonVariants = cva(
  "rounded-full bg-indigo-600 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",
  {
    variants: {
      size: {
        xs: "p-1",
        sm: "p-1.5",
        md: "p-2",
      },
    },
    defaultVariants: {
      size: "md",
    },
  }
);

interface Props
  extends astroHTML.JSX.ButtonHTMLAttributes,
    VariantProps<typeof buttonVariants> {}

const { size, class: className, ...props } = Astro.props;
---

<button class={twMerge(buttonVariants({ size }), className)} {...props}>
  <slot />
</button>
